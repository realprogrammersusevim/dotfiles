# Launcher mode
:: launcher

# Activate launcher mode
alt + cmd - n ; launcher

# Launcher mode bindings
launcher < b : "/Applications/Zen Browser.app/Contents/MacOS/zen" --new-window | skhd -k "escape"
launcher < t : ~/code/dotfiles/skhd/ghostty_window | skhd -k "escape"

# Escape sends us back to normal mode
launcher < escape ; default

# Focus app mode
:: focus

alt + cmd - f ; focus

focus < b : open -a "Zen Browser" | skhd -k "escape"
focus < t : open -a "Ghostty" | skhd -k "escape"
focus < shift - t : open -a "Things3" | skhd -k "escape"
focus < e : open -a "Mail" | skhd -k "escape"
focus < m : open -a "Messages" | skhd -k "escape"
focus < shift - m : open -a "Music" | skhd -k "escape"

focus < escape ; default

# Mail mode for handling mail with Vim-like keybinds
:: mail

# Activate Mail mode
alt + cmd - e ; mail

# Navigation
mail < j : skhd -k 'down'
mail < k : skhd -k 'up'
mail < g : skhd -k 'cmd - up'
mail < shift - g : skhd -k 'cmd - down'

# Actions
mail < o : skhd -k 'return'                  # open message
mail < d : skhd -k 'backspace'               # delete
mail < y : skhd -k 'ctrl + cmd - a'          # archive
mail < shift - d : skhd -k 'shift + cmd - j' # junk
mail < r : skhd -k 'cmd - r'                 # reply

# Exit Mail mode
mail < escape ; default
